var Cstmz_APPS_GoogleTagManager;
! function() {
    var e = function() {
        function e() {
            this.config = JSON.parse(Ecwid.getAppPublicConfig("app-google-tag-manager"))
        }
        return e.prototype._checkConfig = function() {
            return (void 0 === this.config.enabled || this.config.enabled) && this.config["tag-manager-code"] && "" !== this.config["tag-manager-code"].trim() && !document.querySelector(".google-tag-manager")
        }, e.prototype.addTagManagerCode = function() {
            var e = document.createElement("script");
            e.className = "google-tag-manager", e.type = "text/javascript", e.text = "\n                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n                '../../../../../../../vendor/google/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n                })(window,document,'script','dataLayer','".concat(this.config["tag-manager-code"], "');\n            "), document.head.appendChild(e)
        }, e
    }();
    Ecwid.OnAPILoaded.add((function() {
        var a = new e;
        a._checkConfig() && a.addTagManagerCode()
    }))
}(Cstmz_APPS_GoogleTagManager || (Cstmz_APPS_GoogleTagManager = {}));